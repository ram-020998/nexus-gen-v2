<!-- Constant Comparison Component -->
{% if comparison and comparison.object_type == 'Constant' %}
<div class="comparison-section">
    <div class="comparison-header">
        <h5><i class="fas fa-hashtag"></i> Constant Details</h5>
    </div>
    
    <div class="comparison-body">
        <div class="comparison-grid">
            {% if detail.change.classification == 'CONFLICT' %}
                <!-- CONFLICT: Vendor Latest (left) vs Customer (right) -->
                <div class="version-column vendor-column">
                    <div class="version-header">
                        <span class="badge bg-info">{{ comparison.new_label or 'Vendor Latest' }}</span>
                    </div>
                    <div class="version-content">
                        <div class="detail-item">
                            <label>Type</label>
                            <p class="value-display">{{ comparison.vendor.type or 'N/A' }}</p>
                        </div>
                        <div class="detail-item">
                            <label>Value</label>
                            <pre class="value-display">{{ comparison.vendor.value or 'N/A' }}</pre>
                        </div>
                    </div>
                </div>
                
                <div class="version-column customer-column">
                    <div class="version-header">
                        <span class="badge bg-success">{{ comparison.new_label or 'Customer' }}</span>
                    </div>
                    <div class="version-content">
                        <div class="detail-item">
                            <label>Type</label>
                            <p class="value-display {% if comparison.vendor.type != comparison.customer.type %}highlight-diff{% endif %}">
                                {{ comparison.customer.type or 'N/A' }}
                            </p>
                        </div>
                        <div class="detail-item">
                            <label>Value</label>
                            <pre class="value-display {% if comparison.vendor.value != comparison.customer.value %}highlight-diff{% endif %}">{{ comparison.customer.value or 'N/A' }}</pre>
                        </div>
                    </div>
                </div>
            {% else %}
                <!-- NO_CONFLICT: Dynamic based on change types -->
                <div class="version-column vendor-column">
                    <div class="version-header">
                        <span class="badge bg-secondary">{{ comparison.old_label or 'Vendor Base' }}</span>
                    </div>
                    <div class="version-content">
                        <div class="detail-item">
                            <label>Type</label>
                            <p class="value-display">{{ comparison.customer.type or 'N/A' }}</p>
                        </div>
                        <div class="detail-item">
                            <label>Value</label>
                            <pre class="value-display">{{ comparison.customer.value or 'N/A' }}</pre>
                        </div>
                    </div>
                </div>
                
                <div class="version-column customer-column">
                    <div class="version-header">
                        <span class="badge bg-info">{{ comparison.new_label or 'Vendor Latest' }}</span>
                    </div>
                    <div class="version-content">
                        <div class="detail-item">
                            <label>Type</label>
                            <p class="value-display {% if comparison.vendor.type != comparison.customer.type %}highlight-diff{% endif %}">
                                {{ comparison.vendor.type or 'N/A' }}
                            </p>
                        </div>
                        <div class="detail-item">
                            <label>Value</label>
                            <pre class="value-display {% if comparison.vendor.value != comparison.customer.value %}highlight-diff{% endif %}">{{ comparison.vendor.value or 'N/A' }}</pre>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endif %}
