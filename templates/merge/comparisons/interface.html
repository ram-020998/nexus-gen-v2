<!-- Interface Comparison Component -->
{% if comparison and comparison.object_type == 'Interface' %}
<div class="comparison-section">
    <div class="comparison-header">
        <h5><i class="fas fa-window-maximize"></i> Interface Details</h5>
    </div>
    
    <div class="comparison-body">
        <!-- Parameters Section -->
        <div class="subsection">
            <h6><i class="fas fa-sliders-h"></i> Interface Parameters</h6>
            <div class="comparison-grid">
                <!-- Vendor Parameters -->
                <div class="version-column vendor-column">
                    <div class="version-header">
                        <span class="badge bg-info">Vendor Parameters</span>
                    </div>
                    <div class="version-content">
                        {% if comparison.vendor.parameters %}
                        <table class="params-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for param in comparison.vendor.parameters %}
                                <tr>
                                    <td>{{ param.name }}</td>
                                    <td>{{ param.type }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% else %}
                        <p class="text-muted">No parameters</p>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Customer Parameters -->
                <div class="version-column customer-column">
                    <div class="version-header">
                        <span class="badge bg-success">Customer Parameters</span>
                    </div>
                    <div class="version-content">
                        {% if comparison.customer.parameters %}
                        <table class="params-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for param in comparison.customer.parameters %}
                                {% set vendor_param = comparison.vendor.parameters | selectattr('name', 'equalto', param.name) | first %}
                                <tr class="{% if not vendor_param %}highlight-added{% elif vendor_param.type != param.type %}highlight-diff{% endif %}">
                                    <td>{{ param.name }}</td>
                                    <td>{{ param.type }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% else %}
                        <p class="text-muted">No parameters</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- SAIL Code Section -->
        <div class="subsection">
            <h6><i class="fas fa-code"></i> SAIL Code Differences</h6>
            <div class="code-diff-container">
                <!-- Vendor Code -->
                <div class="code-diff-column vendor-version">
                    <div class="code-diff-header">
                        <div class="code-diff-label">
                            <i class="fas fa-cube"></i>
                            <span>Vendor Code</span>
                        </div>
                        <span class="code-diff-badge vendor">New Version</span>
                    </div>
                    <div class="code-diff-body">
                        {% if comparison.vendor.sail_code %}
                        <pre><code class="language-sail">{{ comparison.vendor.sail_code | e }}</code></pre>
                        {% else %}
                        <div class="code-empty-state">
                            <i class="fas fa-code"></i>
                            <p>No code available</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Customer Code -->
                <div class="code-diff-column customer-version">
                    <div class="code-diff-header">
                        <div class="code-diff-label">
                            <i class="fas fa-user"></i>
                            <span>Customer Code</span>
                        </div>
                        <span class="code-diff-badge customer">Current</span>
                    </div>
                    <div class="code-diff-body">
                        {% if comparison.customer.sail_code %}
                        <pre><code class="language-sail">{{ comparison.customer.sail_code | e }}</code></pre>
                        {% else %}
                        <div class="code-empty-state">
                            <i class="fas fa-code"></i>
                            <p>No code available</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}
