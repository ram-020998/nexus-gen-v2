{
  "design_document": {
    "overview": "Add document upload functionality to the create evaluation screen through a popup interface that allows users to upload documents with validation for file types and count limits",
    "objects": [
      {
        "name": "DocumentUploadPopup",
        "type": "Component",
        "description": "Modal popup component that displays document upload interface with drag-and-drop and file selection capabilities",
        "methods": ["open", "close", "validateFiles", "uploadFiles", "resetForm"]
      },
      {
        "name": "FileUploadField",
        "type": "Component",
        "description": "Input field component for selecting and displaying selected files with progress indicators",
        "methods": ["selectFiles", "removeFile", "showProgress", "validateFileType"]
      },
      {
        "name": "DocumentUploadService",
        "type": "Service",
        "description": "Backend service to handle file upload operations, validation, and storage management",
        "methods": ["uploadDocument", "validateFile", "getUploadProgress", "deleteDocument"]
      },
      {
        "name": "FileValidationRule",
        "type": "Rule",
        "description": "Validation logic for file type restrictions, size limits, and maximum count constraints",
        "methods": ["validateFileType", "validateFileSize", "validateFileCount", "getValidationConfig"]
      },
      {
        "name": "EvaluationFormController",
        "type": "Controller",
        "description": "Enhanced controller to integrate document upload functionality with existing evaluation creation flow",
        "methods": ["openUploadPopup", "handleDocumentUpload", "saveEvaluationWithDocuments"]
      }
    ],
    "implementation_notes": [
      "Reuse existing file validation configurations from current system",
      "Implement popup trigger button in evaluation form interface",
      "Add document references to evaluation data model",
      "Ensure upload progress feedback for user experience",
      "Handle file cleanup on form cancellation or errors"
    ],
    "dependencies": [
      "Existing evaluation form components",
      "File storage service (S3 or similar)",
      "Current validation configuration system",
      "Modal/popup UI framework",
      "File upload progress tracking mechanism"
    ]
  }
}
